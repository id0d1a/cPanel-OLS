function lswsInitDropdownBoxes(){var e,s=document.getElementsByClassName("accordion");for(e=0;e<s.length;e++)s[e].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"})}function lswsCollapseDropdownBox(e){e.classList.remove("active"),e.nextElementSibling.style.maxHeight=null}function lswsWriteToMsgBox(e,s,t){null==t&&(t=!1);var l={succ:"div#succMsgs",err:"div#errMsgs"}[s];return t&&$(l+" ul").empty(),void 0!==e&&0!==e.length&&(e.forEach(function(e){$(l+" ul").append("<li>"+e+"</li>")}),!0)}function flushCache(e,s){null==s&&(s=!0),confirm("Flushing LSCache will remove all cache files under "+e+". Flush LSCache?")&&$.getJSON("./ls_web_cache_manager/ls_web_cache_manager.live.php?do=flush",function(e){var t="initial",l="none",n="none",a="none",c=e.succMsgs,o=e.errMsgs,i=0;lswsWriteToMsgBox(o,"err",s)&&(l=t,i=o.length,n=t);var r=$("span#errMsgCnt"),u=(s?0:parseInt(r.text()))+i;(r.html(u),0==u)&&lswsCollapseDropdownBox(r.closest("button")[0]);r.closest("button").css("display",n),lswsWriteToMsgBox(c,"succ",s)&&(l=t,a=t),$("div#succMsgs").css("display",a),$("div#display-msgs").css("display",l)})}function restartPHP(e){null==e&&(e=!0),confirm("Restart all detached PHP processes?")&&$.getJSON("./ls_web_cache_manager/ls_web_cache_manager.live.php?do=restartPHP",function(s){var t="initial",l="none",n="none",a="none",c=s.succMsgs,o=s.errMsgs,i=0;lswsWriteToMsgBox(o,"err",e)&&(l=t,i=o.length,n=t);var r=$("span#errMsgCnt"),u=(e?0:parseInt(r.text()))+i;(r.html(u),0==u)&&lswsCollapseDropdownBox(r.closest("button")[0]);r.closest("button").css("display",n),lswsWriteToMsgBox(c,"succ",e)&&(l=t,a=t),$("div#succMsgs").css("display",a),$("div#display-msgs").css("display",l)})}function lscmSaveSettings(e){null==e&&(e=!0);var s=document.getElementById("lscmLogLvl"),t=s.options[s.selectedIndex].value;$.getJSON("./ls_web_cache_manager/ls_web_cache_manager.live.php?do=save_settings&log_file_lvl="+t,function(s){var t="initial",l="none",n="none",a="none",c=s.succMsgs,o=s.errMsgs,i=0;lswsWriteToMsgBox(o,"err",e)&&(l=t,i=o.length,n=t);var r=$("span#errMsgCnt"),u=(e?0:parseInt(r.text()))+i;(r.html(u),0==u)&&lswsCollapseDropdownBox(r.closest("button")[0]);r.closest("button").css("display",n),lswsWriteToMsgBox(c,"succ",e)&&(l=t,a=t),$("div#succMsgs").css("display",a),$("div#display-msgs").css("display",l)})}function lscwpValidateSelectFormSubmit(e,s){var t=!1;if($("#lsws-data-table input:checkbox").each(function(){if($(this).prop("checked"))return t=!0,!1}),t){if("disable_sel"!=e||confirm("LSCWP configuration may be lost when disabling. Disable anyway?")){var l=$('form[name="lswsform"]');$("<input>",{type:"hidden",name:e,value:s}).appendTo(l),l.submit()}}else alert("Please select at least one checkbox.")}function ecCertValidateSelectFormSubmit(e,s){var t=!1;if($("#ec-cert-data-table input:checkbox").each(function(){if($(this).prop("checked"))return t=!0,!1}),t){var l=$('form[name="lswsform"]');$("<input>",{type:"hidden",name:e,value:s}).appendTo(l),l.submit()}else alert("Please select at least one checkbox.")}$("#lswsContent").load("ls_web_cache_manager/ls_web_cache_manager.live.php"+window.location.search);